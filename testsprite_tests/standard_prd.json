{
  "meta": {
    "project": "WorldPav Sistema de Gestão de Pavimentação Asfáltica",
    "date": "2025-10-29",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "WorldPav is a comprehensive ERP system tailored for asphalt paving companies, providing integrated control from strategic planning to field execution via a modern PWA interface with real-time data and automation.",
  "core_goals": [
    "Increase productivity of paving companies by 40%",
    "Reduce operational errors by 60% through process automation",
    "Enhance financial visibility with real-time dashboards",
    "Facilitate data-driven decision making",
    "Optimize resource utilization including machinery, teams, and materials"
  ],
  "key_features": [
    "Executive Dashboard with real-time KPIs, productivity charts, and alerts",
    "Complete Project Management with CRUD operations, scheduling, billing, and documentation",
    "Client Management with full client profiles and project histories",
    "Collaborator Management including documentation, team controls, and status tracking",
    "Daily Work Control with attendance, overtime calculations, and reporting",
    "Machinery Management covering registration, insurance, licenses, fuel consumption, and maintenance",
    "Pavement Scheduling featuring a drag-and-drop interactive calendar for teams and equipment",
    "Daily Reports capturing work progress, materials, equipment, weather conditions, and photo evidence",
    "Supplier Management with pricing tables, loading control, and payment tracking",
    "Accounts Payable and Receivable with invoice management and automatic alerts",
    "Financial Management dashboarding revenue, expenses, cash flow, and reports",
    "Traffic Guards system managing shifts, payments, and reports",
    "Flexible Notes system with markdown support and advanced filtering",
    "Service Catalog with pricing and unit control",
    "Full PWA Support including offline mode, push notifications, and native app installability",
    "Robust Authentication and Authorization using JWT, OAuth, RLS, and role-based access control"
  ],
  "user_flow_summary": [
    "Project Manager creates a new project linking clients, defining timelines, adding segments, and tracking financials",
    "Coordinators schedule teams and machinery via the interactive calendar while field teams submit daily progress reports with photos",
    "Coordinators record project measurements and finance issues invoices tied to project milestones",
    "Finance personnel manage payable and receivable accounts, upload invoices, and track payments and KPIs",
    "Coordinators manage daily attendance records including overtime and deductions and finalize payments",
    "Users leverage dashboards for real-time KPI insights enabling informed decisions",
    "Users export data and reports to Excel or PDF as needed for audits or meetings"
  ],
  "validation_criteria": [
    "Frontend implementation covers all 20+ functional modules with full CRUD support",
    "API integration with Supabase backend including real-time subscriptions and RLS enforcement",
    "Successful database migration execution maintaining referential integrity and security",
    "Comprehensive automated and manual tests executed verifying features including accounts payable, receivables, scheduling, daily control, and team management",
    "Performance targets met including under 3 seconds load time on 4G connections and responsiveness under 1000 concurrent users",
    "Security audits confirm correct implementation of JWT, OAuth, CSRF protection, RLS and file upload validation",
    "User acceptance tests confirm usability goals with >90% task success and satisfaction scores above 80",
    "PWA capabilities verified including offline data access, push notifications, and native install prompts"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 18",
      "Vite",
      "TailwindCSS",
      "Supabase",
      "PostgreSQL",
      "PWA",
      "Framer Motion",
      "Recharts",
      "React Router DOM",
      "Zod"
    ],
    "features": [
      {
        "name": "Dashboard Executivo",
        "description": "Dashboard principal com KPIs, métricas de obras, gráficos de produtividade e alertas em tempo real",
        "files": [
          "src/pages/Dashboard.tsx",
          "src/components/dashboard/KPICard.tsx",
          "src/components/dashboard/MetricsChart.tsx"
        ]
      },
      {
        "name": "Gestão de Obras",
        "description": "CRUD completo de obras, programação de atividades, controle de prazos, medições e faturamento automático",
        "files": [
          "src/pages/obras/ObrasList.tsx",
          "src/pages/obras/NovaObra.tsx",
          "src/pages/obras/ObraDetails.tsx",
          "src/pages/obras/EditarObra.tsx",
          "src/components/obras/ObraForm.tsx",
          "src/components/obras/MedicoesObra.tsx",
          "src/components/obras/FaturamentoObra.tsx",
          "src/lib/database/obras.ts",
          "src/types/obra.ts"
        ]
      },
      {
        "name": "Gestão de Clientes",
        "description": "Cadastro completo de clientes, histórico de obras, contratos e documentos",
        "files": [
          "src/pages/clients/ClientList.tsx",
          "src/pages/clients/NewClient.tsx",
          "src/pages/clients/ClientDetails.tsx",
          "src/components/clients/ClientForm.tsx",
          "src/lib/database/clients.ts",
          "src/types/client.ts"
        ]
      },
      {
        "name": "Gestão de Colaboradores",
        "description": "CRUD de colaboradores, documentação, gestão de equipes, controle de status e férias",
        "files": [
          "src/pages/colaboradores/ColaboradoresList.tsx",
          "src/pages/colaboradores/NovoColaborador.tsx",
          "src/pages/colaboradores/ColaboradorDetails.tsx",
          "src/pages/colaboradores/EditarColaborador.tsx",
          "src/components/colaboradores/ColaboradorForm.tsx",
          "src/lib/database/colaboradores.ts",
          "src/types/colaborador.ts"
        ]
      },
      {
        "name": "Controle Diário de Diárias",
        "description": "Registro de diárias, horas extras, cálculos automáticos de pagamento e relatórios de equipe",
        "files": [
          "src/pages/controle-diario/ControleDiarioList.tsx",
          "src/pages/controle-diario/NovoControleDiario.tsx",
          "src/pages/controle-diario/RelatorioEquipe.tsx",
          "src/components/controle-diario/DiariasForm.tsx",
          "src/lib/database/relacoes.ts",
          "src/types/controle-diario.ts"
        ]
      },
      {
        "name": "Gestão de Maquinários",
        "description": "Cadastro de equipamentos, controle de seguros, licenças, consumo de diesel e manutenção",
        "files": [
          "src/pages/maquinarios/MaquinariosList.tsx",
          "src/pages/maquinarios/NovoMaquinario.tsx",
          "src/pages/maquinarios/MaquinarioDetails.tsx",
          "src/components/maquinarios/MaquinarioForm.tsx",
          "src/components/maquinarios/SegurosMaquinario.tsx",
          "src/components/maquinarios/LicencasMaquinario.tsx",
          "src/lib/database/maquinarios.ts",
          "src/types/maquinario.ts"
        ]
      },
      {
        "name": "Programação de Pavimentação",
        "description": "Calendário visual com drag-and-drop, programação de equipes e equipamentos, controle de atividades",
        "files": [
          "src/pages/DashboardPavimentacao.tsx",
          "src/components/programacao/CalendarioProgramacao.tsx",
          "src/components/programacao/ProgramacaoForm.tsx",
          "src/lib/database/programacao.ts",
          "src/types/programacao.ts"
        ]
      },
      {
        "name": "Relatórios Diários",
        "description": "Registro de atividades diárias, upload de fotos, controle de materiais e clima",
        "files": [
          "src/pages/relatorios-diarios/RelatoriosDiariosList.tsx",
          "src/pages/relatorios-diarios/NovoRelatorioDiario.tsx",
          "src/components/relatorios-diarios/RelatorioDiarioForm.tsx",
          "src/lib/database/relatorios-diarios.ts",
          "src/types/relatorio-diario.ts"
        ]
      },
      {
        "name": "Gestão de Parceiros",
        "description": "Cadastro de fornecedores, tabela de preços, carregamentos RR2C e controle de pagamentos",
        "files": [
          "src/pages/parceiros/ParceirosList.tsx",
          "src/pages/parceiros/NovoParceiro.tsx",
          "src/pages/parceiros/ParceiroDetails.tsx",
          "src/components/parceiros/ParceiroForm.tsx",
          "src/components/parceiros/TabelaPrecos.tsx",
          "src/lib/database/parceiros.ts",
          "src/types/parceiro.ts"
        ]
      },
      {
        "name": "Contas a Pagar",
        "description": "Gestão completa de contas a pagar, notas fiscais, vencimentos e pagamentos",
        "files": [
          "src/pages/contas-pagar/ContasPagarList.tsx",
          "src/pages/contas-pagar/NovaContaPagar.tsx",
          "src/components/contas-pagar/ContaPagarForm.tsx",
          "src/lib/database/contas-pagar.ts",
          "src/types/contas-pagar.ts"
        ]
      },
      {
        "name": "Gestão Financeira",
        "description": "Dashboard financeiro, controle de receitas, despesas, fluxo de caixa e relatórios",
        "files": [
          "src/pages/financeiro/FinanceiroDashboard.tsx",
          "src/pages/financeiro/Transactions.tsx",
          "src/components/financeiro/TransactionForm.tsx",
          "src/lib/database/financial.ts",
          "src/types/financial.ts"
        ]
      },
      {
        "name": "Pagamentos a Receber",
        "description": "Controle de recebimentos, faturamento de obras e gestão de inadimplência",
        "files": [
          "src/pages/pagamentos-receber/PagamentosReceberList.tsx",
          "src/components/pagamentos-receber/PagamentoReceberForm.tsx",
          "src/lib/database/pagamentos-receber.ts",
          "src/types/pagamento-receber.ts"
        ]
      },
      {
        "name": "Sistema de Autenticação",
        "description": "Login, logout, recuperação de senha, gestão de sessão com JWT",
        "files": [
          "src/pages/Login.tsx",
          "src/lib/auth.ts",
          "src/lib/supabase.ts",
          "src/types/auth.ts"
        ]
      },
      {
        "name": "Sistema de Anotações",
        "description": "Notas com markdown, categorização, busca e filtros avançados",
        "files": [
          "src/pages/Notes.tsx",
          "src/components/notes/NoteEditor.tsx",
          "src/components/notes/NotesList.tsx",
          "src/lib/database/notes.ts",
          "src/types/note.ts"
        ]
      },
      {
        "name": "Catálogo de Serviços",
        "description": "Gestão de serviços de pavimentação, preços e unidades de medida",
        "files": [
          "src/pages/servicos/ServicosList.tsx",
          "src/pages/servicos/NovoServico.tsx",
          "src/components/servicos/ServicoForm.tsx",
          "src/lib/database/servicos.ts",
          "src/types/servico.ts"
        ]
      },
      {
        "name": "Gestão de Guardas",
        "description": "Controle de escalas de guardas, pagamentos e relatórios",
        "files": [
          "src/pages/guardas/GuardasList.tsx",
          "src/pages/guardas/NovoGuarda.tsx",
          "src/components/guardas/GuardaForm.tsx",
          "src/lib/database/guardas.ts",
          "src/types/guarda.ts"
        ]
      },
      {
        "name": "Sistema de Relatórios",
        "description": "Geração de relatórios customizados, exportação em Excel e PDF",
        "files": [
          "src/pages/Reports.tsx",
          "src/components/reports/ReportGenerator.tsx",
          "src/lib/exports.ts",
          "src/utils/exportToExcel.ts",
          "src/utils/pdfExport.ts"
        ]
      },
      {
        "name": "PWA e Offline",
        "description": "Service Worker, cache de dados, instalação como app nativo",
        "files": [
          "public/sw.js",
          "public/manifest.json",
          "src/lib/pwa.ts"
        ]
      },
      {
        "name": "Componentes Compartilhados",
        "description": "Biblioteca de componentes reutilizáveis (Button, Input, Modal, Toast, etc)",
        "files": [
          "src/components/shared/Button.tsx",
          "src/components/shared/Input.tsx",
          "src/components/shared/Modal.tsx",
          "src/components/shared/Toast.tsx",
          "src/components/shared/FormField.tsx",
          "src/components/shared/LoadingSpinner.tsx",
          "src/components/shared/EmptyState.tsx"
        ]
      },
      {
        "name": "Layout e Navegação",
        "description": "Sistema de layout responsivo, sidebar, navegação e breadcrumbs",
        "files": [
          "src/components/layout/Layout.tsx",
          "src/components/layout/Sidebar.tsx",
          "src/components/layout/Header.tsx",
          "src/components/navigation/Breadcrumbs.tsx"
        ]
      },
      {
        "name": "Hooks Customizados",
        "description": "Hooks reutilizáveis para lógica comum (auth, toast, dados)",
        "files": [
          "src/hooks/useAuth.ts",
          "src/lib/toast-hooks.ts",
          "src/hooks/useDatabase.ts"
        ]
      },
      {
        "name": "Utilitários",
        "description": "Funções auxiliares para formatação, validação e cálculos",
        "files": [
          "src/utils/format.ts",
          "src/utils/validation.ts",
          "src/utils/calculations.ts",
          "src/utils/date.ts",
          "src/utils/currency.ts"
        ]
      },
      {
        "name": "Integração Supabase",
        "description": "Cliente Supabase, queries, mutations e realtime subscriptions",
        "files": [
          "src/lib/supabase.ts",
          "src/lib/database/base.ts",
          "src/lib/queries.ts",
          "src/lib/mutations.ts"
        ]
      },
      {
        "name": "Sistema de Tipos",
        "description": "Definições TypeScript para todas as entidades do sistema",
        "files": [
          "src/types/obra.ts",
          "src/types/client.ts",
          "src/types/colaborador.ts",
          "src/types/maquinario.ts",
          "src/types/programacao.ts",
          "src/types/financial.ts",
          "src/types/database.ts"
        ]
      }
    ]
  }
}
